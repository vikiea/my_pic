# 操作系统
## 进程与线程
### 进程(process)
> 进程是一个具有一定独立功能的程序关于某次数据集合的一次运行活动，它是**操作系统分配资源的基本单元**。

简单来讲进程的概念主要有两点：
1. 进程是一个实体。每一个进程都有它自己的地址空间，一般情况下，包括文本区域（text region）、数据区域（data region）和堆栈（stack region）。文本区域存储处理器执行的代码；数据区域存储变量和进程执行期间使用的动态分配的内存；堆栈区域存储着活动过程中调用的指令和本地变量。
2. 进程是一个“执行中的程序”。程序是一个没有生命的实体，只有处理器赋予程序生命时，它才能成为一个活动的实体，我们称其为进程。

进程状态：进程有三个状态，就绪，运行和阻塞。
- **就绪**状态其实就是获取了除cpu外的所有资源，只要处理器分配资源马上就可以运行。
- **运行**态就是获取了处理器分配的资源，程序开始执行.
- **阻塞**态，当程序条件不够时，需要等待条件满足时候才能执行，如等待I/O操作的时候，此刻的状态就叫阻塞态。

说说程序，**程序是指令和数据的有序集合**，其本身没有任何运动的含义，**是一个静态的概念**，而**进程则是在处理机上的一次执行过程**，它是一个**动态的概念**。进程是包含程序的，**进程的执行离不开程序**，进程中的文本区域就是代码区，也就是程序。

### 线程(thread)
通常在**一个进程中可以包含若干个线程**，当然**一个进程中至少有一个线程**，不然没有存在的意义。线程可以利用进程所拥有的资源，在引入线程的操作系统中，通常都是把**进程作为分配资源的基本单位，而把线程作为独立运行和独立调度的基本单位**，由于线程比进程更小，基本上不拥有系统资源，故对它的调度所付出的开销就会小得多，能更高效的提高系统多个程序间并发执行的程度。
### 多线程(multiThread)
在一个程序中，这些独立运行的程序片段叫作“线程”（Thread），利用它编程的概念就叫作“多线程处理”。**多线程是为了同步完成多项任务**，不是为了提高运行效率，而是为了**提高资源使用效率**来提高系统的效率。线程是在同一时间需要完成多项任务的时候实现的。
最简单的比喻多线程就像火车的每一节车厢，而进程则是火车。车厢离开火车是无法跑动的，同理火车也不可能只有一节车厢。多线程的出现就是为了提高效率。
### 进程与线程的区别：
进程和线程的主要差别在于它们是**不同的操作系统资源管理方式**。**进程有独立的地址空间**，一个进程崩溃后，在保护模式下**不会对其它进程产生影响**，而线程只是一个进程中的不同执行路径。**线程有自己的堆栈和局部变量，但线程之间没有单独的地址空间**，**一个线程死掉就等于整个进程死掉**，所以**多进程的程序要比多线程的程序健壮**，但在**进程切换时，耗费资源较大，效率要差一些**。但对于一些要求**同时进行并且又要共享某些变量的并发操作，只能用线程，不能用进程。**
1. 简而言之,**一个程序至少有一个进程,一个进程至少有一个线程.**
2. **线程的划分尺度小于进程**，使得多线程程序的并发性高。
3. 另外，**进程在执行过程中拥有独立的内存单元，而多个线程共享内存**，从而极大地提高了程序的运行效率。
4. 线程在执行过程中与进程还是有区别的。每个独立的线程有一个程序运行的入口、顺序执行序列和程序的出口。但是**线程不能够独立执行，必须依存在应用程序中，由应用程序提供多个线程执行控制。**
5. 从逻辑角度来看，**多线程的意义在于一个应用程序中，有多个执行部分可以同时执行**。但**操作系统并没有将多个线程看做多个独立的应用，来实现进程的调度和管理以及资源分配**。这就是进程和线程的重要区别。

### 进程与线程的优缺点
**线程执行开销小，但不利于资源的管理和保护；而进程正相反**。同时，线程适合于在SMP(多核处理机)机器上运行，而进程则可以跨机器迁移。


